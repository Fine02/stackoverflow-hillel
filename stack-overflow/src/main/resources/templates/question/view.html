<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="~{head :: general_header(~{::title},_,_)}">
    <title>StackOverflow Member View</title>
</head>
<body>

<div th:insert="${session.memberDto} ? ~{fragments/navbar-member} : ~{fragments/navbar-nonmember}"></div>

<div class="main">
    <div class="container">
        <p class="bg-danger" th:text="${text}"></p>

<!--        <h3 th:text="${question.getTitle()}"></h3>-->
<!--        <div class="row">-->
<!--            &lt;!&ndash;            <div class="col-sm-4" th:text="'Author: ' + ${question.get}"></div>&ndash;&gt;-->
<!--            <div class="col-sm-4"-->
<!--                 th:text="'Last update: ' + ${#temporals.format(question.getUpdateTime(), 'dd-MM-yyyy HH:mm')}"></div>-->
<!--            <div class="col-sm-4"-->
<!--                 th:text="'Created time: ' + ${#temporals.format(question.getCreationTime(), 'dd-MM-yyyy HH:mm')}"></div>-->

<!--        </div>-->
<!--        <p th:text="${question.getDescription()} "></p>-->

<!--        <div th:if="${not #lists.isEmpty(question.getAnswerList())}">-->
<!--            <div th:each="answer : ${question.getAnswerList()}">-->
<!--                <div class="col-sm-4" th:text="'Author: ' + ${answer.getAuthorId()}"></div>-->
<!--                <div class="col-sm-4"-->
<!--                     th:text="'Created time: ' + ${#temporals.format(answer.getCreationDate(), 'dd-MM-yyyy HH:mm')}"></div>-->
<!--                <p th:text="${answer.getAnswerText()} "></p>-->

<!--                <div th:each="comment : ${answer.getComments()}">-->
<!--                    <div class="col-sm-4" th:text="'Author: ' + ${comment.getAuthorId()}"></div>-->
<!--                    <div class="col-sm-4"-->
<!--                         th:text="'Created time: ' + ${#temporals.format(comment.getCreationDate(), 'dd-MM-yyyy HH:mm')}"></div>-->
<!--                    <p th:text="${comment.getText()} "></p>-->
<!--                </div>-->

<!--            </div>-->
<!--        </div>-->

        <div class="row">

            <!-- Post Content Column -->
            <div class="col-lg-8">

                <!-- Title -->
                <h1 class="mt-4" th:text="${question.getTitle()}"></h1>

                <!-- Author -->
                <p class="lead">
                    by
                    <a th:href="@{/search/member(id=${question.getAuthorId()})}" th:text="${question.getAuthorId()}"></a>
                </p>

                <hr>

                <!-- Date/Time -->
                <p th:text="'Last update: ' + ${#temporals.format(question.getUpdateTime(), 'dd-MM-yyyy HH:mm')}"></p>
                <p th:text="'Posted: ' + ${#temporals.format(question.getCreationTime(), 'dd-MM-yyyy HH:mm')}"></p>

                <hr>

                <!-- Post Content -->
                <p class="lead" th:text="${question.getDescription()}"></p>

                <hr>

                <!-- Comments Form -->
                <div class="card my-4">
                    <h5 class="card-header">Leave a Comment:</h5>
                    <div class="card-body">
                        <form>
                            <div class="form-group">
                                <textarea class="form-control" rows="3"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Submit</button>
                        </form>
                    </div>
                </div>

                <!-- Answers with nested comments -->
                <div th:each="answer : ${question.getAnswerList()}">
                    <div class="media mb-4">
                        <div class="media-body">
                            <h5 class="mt-0" th:href="@{/search/member(id=${answer.getAuthorId()})}" th:text="'Author: ' + ${answer.getAuthorId()}"></h5>
                            <p th:text="'Posted: '  + ${#temporals.format(answer.getCreationDate(), 'dd-MM-yyyy HH:mm')}"></p>
                            <p th:text="${answer.getAnswerText()} "></p>

                            <!-- Nested comments-->

                            <div th:each="comment : ${answer.getComments()}">
                                <div class="media mt-4">
                                    <div class="media-body">
                                        <h5 class="mt-0" th:href="@{/member(id=${comment.getAuthorId()})}" th:text="'Author: ' + ${comment.getAuthorId()}"></h5>
                                        <p th:text="'Posted: '  + ${#temporals.format(comment.getCreationDate(), 'dd-MM-yyyy HH:mm')}"></p>
                                        <p th:text="${comment.getText()} "></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                </div>
            </div>

            <!-- Sidebar Widgets Column -->
            <div class="col-md-4">

                <!-- Search Widget -->
                <div class="card my-4">
                    <h5 class="card-header">Search</h5>
                    <div class="card-body">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Search for...">
                            <span class="input-group-append">
                <button class="btn btn-secondary" type="button">Go!</button>
              </span>
                        </div>
                    </div>
                </div>

                <!-- Categories Widget -->
                <div class="card my-4">
                    <h5 class="card-header">Categories</h5>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-6">
                                <ul class="list-unstyled mb-0">
                                    <li>
                                        <a href="#">Web Design</a>
                                    </li>
                                    <li>
                                        <a href="#">HTML</a>
                                    </li>
                                    <li>
                                        <a href="#">Freebies</a>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-lg-6">
                                <ul class="list-unstyled mb-0">
                                    <li>
                                        <a href="#">JavaScript</a>
                                    </li>
                                    <li>
                                        <a href="#">CSS</a>
                                    </li>
                                    <li>
                                        <a href="#">Tutorials</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Side Widget -->
                <div class="card my-4">
                    <h5 class="card-header">Side Widget</h5>
                    <div class="card-body">
                        You can put anything you want inside of these side widgets. They are easy to use, and
                        feature the
                        new Bootstrap 4 card containers!
                    </div>
                </div>

            </div>

        </div>
    </div>
</div>

<div th:insert="~{fragments/footer}"></div>
</body>
</html>